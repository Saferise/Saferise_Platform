// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema


generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id String   @id
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  fullName  String
  email     String   @unique
  role      Role
  password  String   // will be hashed before insert
}

enum Role {
  Employee
  Supervisor
  Director
}

model Product {
  id String @id
  name String
  productFamily ProductFamily 
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

enum ProductFamily {
  Elevator // מעלית
  Lift // מעלון
}

model Address {
  id String @id
  addressType AddressType
  city integer?
  street integer?
  houseNumber integer
  houseEntrance integer
  zipcode integer
  geolocationLatitude decimal?
  geolocationLongitude decimal?
  block integer?
  plot integer?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

enum AddressType {
  Street
  Plot
  Coordinates
}

model Site {
  id String @id
  addressId String @relation() // Later
  siteAccountId string @relation() // Later
  siteType SiteType
  designation SiteDesignation
  officialSerialNumber String // Unique?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
enum SiteType{
  Residential
  Industrial
  Construction
  Services
  Government
}
enum SiteDesignation{
  Residential
  Hotel
  Hospital
  Government
  Industrial
  ShoppingCenter
  Mall
}